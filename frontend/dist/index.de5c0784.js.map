{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["let lineNumbers = $(\".line-numbers\");\nlet editor = $(\"#text-area\");\nlet codeViewPre = $(\"#code-view-pre\");\nlet codeView = $(\"#code-view\");\nlet messages = $(\"#messages\");\n\nlet saveButton = $(\"#save-button\");\nlet newButton = $(\"#new-button\");\n\nlet apiUrl = \"http://localhost:8000\";\n\nfunction postPaste(content, callback) {\n    var data = {\n        content,\n    };\n\n    $.ajax({\n        type: \"POST\",\n        url: `${apiUrl}/p/n`,\n        data: JSON.stringify(data),\n        dataType: \"json\",\n        contentType: \"application/json\",\n        success: function(res) {\n            callback(null, res);\n        },\n        error: function(xhr) {\n            callback(\n                JSON.parse(\n                    xhr.responseText ||\n                    `{\"data\": { \"message\": \"An unkown error occured!\" } }`\n                )\n            );\n        },\n    });\n}\n\nfunction getPaste(id, callback) {\n    $.ajax({\n        type: \"GET\",\n        url: `${apiUrl}/p/${id}`,\n        contentType: \"application/json\",\n        success: function(res) {\n            callback(null, res);\n        },\n        error: function(xhr) {\n            callback(\n                JSON.parse(\n                    xhr.responseText ||\n                    `{\"data\": { \"message\": \"Unknown error occurred..\" } }`\n                )\n            );\n        },\n    });\n}\n\nfunction newPaste() {\n    lineNumbers.html(\"<div>&gt;</div>\");\n\n    saveButton.prop(\"disabled\", false);\n    newButton.prop(\"disabled\", true);\n\n    editor.val(\"\");\n\n    editor.show();\n    codeViewPre.hide();\n}\n\nfunction addMessage(message) {\n    let msg = $(`<li>${message}</li>`);\n    messages.prepend(msg);\n\n    setTimeout(function() {\n        msg.slideUp(\"fast\", function() {\n            $(this).remove();\n        });\n    }, 3000);\n}\n\nfunction createTextLinks(text) {\n    return (text || '').replace(/([^\\S]|^)(((https?\\:\\/\\/)|(www\\.))(\\S+))/gi, function(match, space, url) {\n        let hyperlink = url;\n        if (!hyperlink.match('^https?://')) {\n            hyperlink = 'http://' + hyperlink;\n        }\n        return space + '<a href=\"' + hyperlink + '\">' + url + '</a>';\n    });\n}\n\nfunction viewPaste(content) {\n    lineNumbers.html(\"\");\n    for (let i = 1; i <= content.split(\"\\n\").length; i++) {\n        lineNumbers.append(`<div>${i}</div>`);\n    }\n    codeView.html(createTextLinks(content));\n    editor.hide();\n    codeViewPre.show();\n}\n\nsaveButton.click(function() {\n    if (editor.val() === \"\") {\n        return;\n    }\n\n    postPaste(editor.val(), function(err, res) {\n        if (err) {\n            addMessage(err[\"data\"][\"message\"]);\n        } else {\n            window.location.href = `/${res[\"data\"][\"id\"]}`;\n        }\n    });\n});\n\nnewButton.click(function() {\n    window.location.href = \"/\";\n});\n\n$(document).ready(function() {\n    let path = window.location.pathname;\n\n    if (path == \"/\") { \n        newPaste();\n    } else {\n        let id = path.substring(1, path.length);\n\n        getPaste(id, function(err, res) {\n            if (err) {\n                newPaste();\n            } else {\n                let content = res[\"data\"][\"content\"];\n                viewPaste(content);\n                saveButton.prop(\"disabled\", true);\n            }\n        });\n    }\n});"],"names":[],"version":3,"file":"index.de5c0784.js.map","sourceRoot":"/__parcel_source_root/"}